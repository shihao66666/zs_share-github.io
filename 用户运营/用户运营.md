# rfm

## 1. 理论基础

RFM是按照一定的标准对用户进行价值分层，对不同价值的用户采用不同的运营/营销手段，以达到根据用户的行为挖掘用户价值的模型，对用户进行精细化运营。

- RFM简单通用的3个经典指标。根据用户的增长数量，业务的复杂程度可以增加一些指标
  - R（Recency）:消费间隔，最近一次距离上次消费的时间间隔。间隔越短越好（价值越高）
  - F（Frequency）：消费频次，在一段时间内消费的总次数。一段时间：根据业务周期或者商品属性有所差异，比如耐用品、会员体系、食物类商品周期存在一定的差异。越高越好（价值越高）
  - M（Monetary）：消费金额，在一段时间内消费的总金额。越高越好（价值越高）。同一个用户，我有理由相信，消费频次越高，消费金额也越高。

## 2. 业务应用

### 1. 建立RFM步骤

1. 选什么指标比较好
   - 简单的模型就是RFM三个指标，根据近度（Recency）、频度（Frequency）、额度（Monetary）划分，适用于用户数据比较少，通过这三个指标就可以很好的把用户分出层次了。我可以针对高价值用户做出一些高运营成本的活动。前提是收益>成本
   - 比较复杂的，大公司情况下，用户数据比较多，通过简单的三个指标不能精准的把用户划分层次。用户多的情况下，高价值用户还是比较多，例如：平台有2000万用户，有20万高价值用户，去做活动，比较难做，业务做起来也比较难。
     - 选择更多的指标。根据精细化用户的目的选择合适的指标。例如：通过精细化运营提高营销策略----销售产品（增加销售额），会员定价，分层之后用户商品推荐。根据业务运营的目的是什么，关联什么核心指标，通过核心指标的拆解，选择尽可能多的指标来描述这个核心指标，对用户分层
     - 选择的指标（特征）比较多，制作指标之间相关系数矩阵和多重共线性，相关系数大的，要有选择的舍弃，根据哪个指标更能解释关键业务指标，更好的对用户分类。

2. 根据这些指标怎么对用户进行分层，分类

   - 简单的业务，用户数量比较少。根据rfm3个指标，可以划分出来高、中、低三个层级，得到的高质量用户也比较少，可以直接用有限的资源去做精细化运营

   - 复杂的业务，用户数量比较大。RFM3个指标不够用了，需要增加多个指标才能给用户精准分层。划分指标得分主要有以下几个方法：

     - 标准化得分法：

       - 每个指标理解为每个特征，机器学习中每一列表示每一个特征，和指标一样。将指标的数值标准化为0到1之间，然后将不同特征的数值相加（每一行），得到总得分。标准化可以使用Min-Max或者Z-score
       - Min-Max：$(Z = \frac{X - X_{min}}{X_{max} - X_{min}})$
         - 普适性弱，新来的数据可能会影响最大值，最小值。但是他保留了原来的数据分布
       - Z-score：$(Z = \frac{X - \bar{X}}{\sigma})$
         - 普适性强，因为它处理的数据最好是正太分布，标准差不会改变。但是会筛选数据特征，有异常值的情况下会把一些特征标准化为0

       - 红娘发卡业务根据我指定的策略标准也是进行的打分操作，打分高，优先发卡。

     - 依据帕累托原则，计算指标的分位数。

       - 将每个指标按照分位数进行分组，把前百分之多少的分位数用户定义为高得分。
       - 根据不同的业务类型，选择一些指标进行组合。例如：我一个电商平台的店铺商家，我有多种类型的商品，我买猫粮，还有猫砂，猫的用具。我想提高一下我的**销售额，通过发送一些优惠卷**的方式，我会找消费频次高，但是消费金额低的一般价值客户，因为选择高价值的用户他们对价格不敏感，发优惠卷反而会降低我未来的销售额。我就会根据最近一次消费时间，消费频次，消费金额，访问频率，最近一次访问时间等指标，选择最近一次消费时间短，消费频次高，消费金额低，根据均值计算，用户数量比较多，那么我就根据帕累托原则，筛选前20%的数据（这20%正好在我可接受的用户区间），发送优惠卷（发多少的卷的额度？），来提高这类用户的客单价。
         - 发多少的优惠卷：
           - 根据这类用户历史购买的客单价，产品最低价格区间，店铺最低的利润率，选择合适的优惠卷门槛。

     - 使用无监督机器学习算法，如聚类算法划分用户

       - K-Means，DBSCAN,层次聚类

3. 针对哪些用户分配哪些资源

   - 针对最优价值的用户，安排人工客服的方式触达。腾讯心悦会员
   - 针对低价值的用户采取相应的策略。
   - 根据不同的业务目的，对用户采取不同的策略

4. 预估得到的收益（通过分配资源，可以给公司带来哪些收益ROI）

   - 对多少用户采取运营策略，他们可以产生多少价值，预计会给公司带来多少收益

## 3. RFM与用户画像

RFM是用户画像的基础，在RFM模型不断扩展指标后，会形成用户画像。

- RFM模型是一个精细化的运营手段，在资源有限的情况下提高投入产出比
- 用户画像是描述用户群体特征和行为习惯的模型。哪些群体是我的目标客户，哪些具有那些特征的群体有消费潜质。进而取优化引流的渠道。例如：性别，年龄等基本信息；使用产品的行为信息，登录、搜索、页面点击等；交易行为数据，购物频率，购物金额，购物数量等
- 用户画像的基本流程
  - 基础信息收集
    - 基础信息：用户自身的信息，例如年龄，性别，城市，身高，收入
    - 产品行为信息：使用产品的信息，登录，搜索，浏览，点击
    - 交易行为数据：消费金额，购买产品数量，购物时间
  - 对收集的信息和指标进行加工
    - 指标维度扩展、根据指标的数据划分等级
    - 从多个指标中给用户打标签：高活，高付费
  - 将用户画像指标直接在大数据系统呈现
  - 数据、运营团队使用这些画像标签制作报表。
    - 在使用这些指标的时候会根据业务的需要增加一些新的指标
  - 对用户画像指标的维护和价值量化
    - 对不需要的指标进行淘汰，制定合理的淘汰标准

